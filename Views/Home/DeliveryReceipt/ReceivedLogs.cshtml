@model PO_PurchasingUI.Models.DRModel



@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<input type="hidden" value="73" id="ModuleAccess" />


<!-- Page Header -->
<div class="content bg-gray-lighter">
    <div class="row items-push">
        <div class="col-sm-7">
            <h1 class="page-heading">
                RECEIVED LOGS<small></small>
            </h1>
        </div>
        <div class="col-sm-5 text-right hidden-xs">
            <ol class="breadcrumb push-10-t">
                <li>DELIVERY RECEIPT</li>
                <li><a class="link-effect" href="">RECEIVED LOGS</a></li>
            </ol>
        </div>
    </div>
</div>
<!-- END Page Header -->

<div class="content">
    <div class="block">
        <div class="block-header">
            <h4 class="block-title">Date : @DateTime.Now.ToShortDateString()</h4>
        </div>

        <div class="block-content">
            <div class="row">
                <div class="col-md-12">
                    <div class="panel-body table-responsive">


                        @if (ViewBag.ReceivedLogs == true)
                        {
                            <table class="table table-striped table-borderless text-center js-dataTable-full-pagination">
                                <thead>
                                    <tr>
                                        <th style="font-size:12px;">View</th>
                                        <th style="font-size:12px;" class="text-left">Supplier DR No.</th>
                                        <th style="font-size:12px;" class="text-left">ATI PO No.</th>
                                        <th style="font-size:12px;" class="text-left">Supplier</th>
                                        <th style="font-size:12px;" class="text-left">Responsible</th>
                                        <th style="font-size:12px;" class="text-left">Date Received</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model.PopulateReceivedLogs)
                                    {
                                    <tr>
                                        <td style="font-size: 12px;" class="text-left"><a href="@Url.Action("ReceivedLogs_DR", "Home", new { @id = item.DRPONumber, @id3 = item.DRNumber})" class="btn btn-primary"><span class="fa fa-eye"></span></a></td>
                                        <td style="font-size:12px;" class="text-left">@Html.DisplayFor(modelitem => item.DRNumber)</td>
                                        <td style="font-size: 12px;" class="text-left">@Html.DisplayFor(modelitem => item.DRPONumber)</td>
                                        <td style="font-size:12px;" class="text-left">@Html.DisplayFor(modelitem => item.DRSupplier)</td>
                                        <td style="font-size:12px;" class="text-left">@Html.DisplayFor(modelitem => item.DRResponsible)</td>
                                        <td style="font-size:12px;" class="text-left">@Html.DisplayFor(modelitem => item.DRDateReceived)</td>
                                    </tr>
                                    }
                                </tbody>
                            </table>
                        }


                        @if (ViewBag.ReceivedLogs == false)
                        {
                            <table id="myTabless" class="table table-striped table-borderless text-center js-dataTable-full-pagination">

                                <thead>
                                    <tr>
                                        <th style="font-size: 12px;" class="text-left">Edit</th>
                                        @*<th style="font-size: 12px;" class="text-left">DR No.</th>*@
                                        @*<th style="font-size: 12px;" class="text-left">PO No.</th>*@
                                        @*<th style="font-size: 12px;" class="text-left">Date Received</th>*@
                                        <th style="font-size: 12px;" class="text-left">Particular</th>
                                        <th style="font-size: 12px;" class="text-left">Quantity</th>
                                        <th style="font-size: 12px;" class="text-left">Received</th>
                                        @*<th style="font-size: 12px;" class="text-left">Responsible</th>*@
                                        @*<th style="font-size: 12px;" class="text-left">Status</th>*@
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model.PopulateReceivedLogs)
                                    {
                                    <tr>
                                        <td style="font-size: 12px;" class="text-left"><a href="javascript:void(0)" id="btnEditReceivedLog" class="btn btn-primary"><span class="fa fa-edit"></span></a></td>
                                        @*<td style="font-size: 12px;" class="text-left">@Html.DisplayFor(modelitem => item.DRNumber)</td>*@
                                        @*<td style="font-size: 12px;" class="text-left">@Html.DisplayFor(modelitem => item.DRPONumber)</td>*@
                                        @*<td style="font-size: 12px;" class="text-left">@Html.DisplayFor(modelitem => item.DRDateReceived)</td>*@
                                        <td style="font-size: 12px;" class="text-left">@Html.DisplayFor(modelitem => item.DRParticular)</td>
                                        <td style="font-size: 12px;" class="text-left">@Html.DisplayFor(modelitem => item.DRQty)</td>
                                        <td style="font-size: 12px;" class="text-left">@Html.DisplayFor(modelitem => item.DRReceived)</td>
                                        @*<td style="font-size: 12px;" class="text-left">@Html.DisplayFor(modelitem => item.DRResponsible)</td>*@
                                        @*@if (item.DRReceived == item.DRQty)
        {
            <td style="font-size:13px;" class="col-xs-1 col-sm-1 text-left"><span class="label label-success">Delivered</span></td>
        }
        else if (item.DRReceived == "0")
        {
            <td style="font-size:13px;" class="col-xs-1 col-sm-1 text-left"><span class="label label-danger">Returned</span></td>

        }
        else
        {
            <td style="font-size:13px;" class="col-xs-1 col-sm-1 text-left"><span class="label label-primary">On-Going</span></td>
        }*@

                                        @Html.HiddenFor(modelitem => item.DRReferenceNo)
                                        @Html.HiddenFor(modelitem => item.DRPONumber)
                                        @Html.HiddenFor(modelitem => item.DRSupplier)
                                        @Html.HiddenFor(modelitem => item.DRItemID)
                                        @Html.HiddenFor(modelitem => item.DRID)
                                        @Html.HiddenFor(modelitem => item.DRNumber)
                                        @Html.HiddenFor(modelitem => item.DRDateReceived)
                                        @Html.HiddenFor(modelitem => item.DRResponsible)
                                        @Html.HiddenFor(modelitem => item.DRParticular)
                                        @Html.HiddenFor(modelitem => item.DRQty)
                                        @Html.HiddenFor(modelitem => item.DRReceived)
                                        @Html.HiddenFor(modelitem => item.DRRemarks)
                                    </tr>
                                    }
                                </tbody>
                            </table>
                            <div class="form-group">
                                <div class="col-xs-12">
                                    <a href="@Url.Action("ReceivedLogs","Home")" class="btn btn-danger pull-right">Back</a>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Top Modal -->
<div class="modal fade" id="ReceivedModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-top">
        @using (Html.BeginForm("UpdateEditItemReceived", "Main", FormMethod.Post, new { @id = "EditReceivedForm", @class = "js-validation-material form-horizontal push-10-t", role = "form" }))
        {
            <div class="modal-content">
                <div class="block block-themed block-transparent remove-margin-b">
                    <div class="block-header bg-primary-dark" style="background-image: url(/assets/img/try.jpg);">
                        <ul class="block-options">
                            <li>
                                <button data-dismiss="modal" type="button"><i class="si si-close"></i></button>
                            </li>
                        </ul>
                        <h3 class="block-title">Received item Information</h3>
                    </div>
                    <div class="block-content">
                        <div class="row">
                            @Html.HiddenFor(Edit => Edit.DRID, new { @class = "form-control", disabled = "disabled" })
                            @Html.HiddenFor(Edit => Edit.DRItemID, new { @class = "form-control", disabled = "disabled" })
                            @Html.HiddenFor(Edit => Edit.DRReferenceNo, new { @class = "form-control", disabled = "disabled" })
                            @Html.HiddenFor(Edit => Edit.DRSupplier, new { @class = "form-control", disabled = "disabled" })
                            @Html.HiddenFor(Edit => Edit.DRPONumber, new { @class = "form-control", disabled = "disabled" })
                            

                            <div class="col-md-6">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        <div class="form-material form-material-primary">
                                            @Html.TextBoxFor(Edit => Edit.DRNumber, new { @class = "form-control", disabled = "disabled" })
                                            <label for="test">DR Number</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        <div class="form-material form-material-primary">
                                            @Html.TextBoxFor(Edit => Edit.DRDateReceived, new { @class = "form-control", disabled = "disabled" })

                                            <label for="test">Date Received</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        <div class="form-material form-material-primary">
                                            @Html.TextBoxFor(Edit => Edit.DRResponsible, new { @class = "form-control", disabled = "disabled" })

                                            <label for="test">Responsible</label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        <div class="form-material form-material-primary">
                                            @Html.TextAreaFor(Edit => Edit.DRRemarks, new { @class = "form-control", disabled = "disabled", style = "margin: 0px; width: 100%; height: 38px; resize:vertical;" })

                                            <label for="test">Remarks</label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-12">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        <div class="form-material form-material-primary">
                                            @Html.TextBoxFor(Edit => Edit.DRParticular, new { @class = "form-control", disabled = "disabled" })
                                            <label for="test">Particular</label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-3">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        <div class="form-material form-material-primary">
                                            @Html.TextBoxFor(Edit => Edit.DRQty, new { @class = "form-control", disabled = "disabled" })

                                            <label for="test">Qty</label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-3">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        <div class="form-material form-material-primary">
                                            @Html.TextBoxFor(Edit => Edit.DRReceived, new { @class = "form-control", disabled = "disabled" })

                                            <label for="test">Item Received</label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        <div class="form-material form-material-primary">
                                            @Html.TextBoxFor(Edit => Edit.DRItemReturn, new { onkeypress = "validate(event)", onpaste = "return false;", @class = "form-control", autocomplete="off" })
                                            <label for="test">Item Return</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        <div class="form-material form-material-primary floating">
                                            @Html.TextAreaFor(Edit => Edit.DRReasonRemarks, new { @class = "form-control", style = "margin: 0px; width: 100%; height: 38px; resize:vertical;" })
                                            <label for="DRReasonRemarks">Reason of Return</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-sm btn-default" type="button" data-dismiss="modal">Close</button>
                    <button class="btn btn-sm btn-primary" type="submit" id="SaveEdit"><i class="fa fa-check"></i> Update</button>
                </div>
            </div>
        }
    </div>
</div>
<!-- END Top Modal -->

@section scripts
{
    @Scripts.Render("~/bundles/ReceivedLogs")
}

